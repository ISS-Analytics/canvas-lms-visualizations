include scripts
| #{data}
- views = {}
- participations = {}
- data.each do |user| \
    user.each do |user_id, v| \
      JSON.parse(v).each do |item, views_particapations| \
        if item == 'page_views' then \
          temp_store = Hash.new 0; \
          views_particapations.each do |date, views| \
            dow = Date.parse(date).strftime('%A'); \
            temp_store[dow] += views; \
          end; \
          views[user_id] = temp_store; \
        elsif item == 'participations' then \
          temp_store = Hash.new 0; \
          views_particapations.each do |hash| \
            date = JSON.parse(hash)['created_at']; \
            dow = Date.parse(date).strftime('%A'); \
            temp_store[dow] += 1; \
          end; \
          participations[user_id] = temp_store; \
        end \
      end \
    end \
  end

- ap views
- ap participations
- ap data

/ div id='actual'
/ div id='container'

javascript:
  $(function () {
      $('#actual').highcharts({
          chart: {
              type: 'heatmap',
              marginTop: 40,
              marginBottom: 80,
              plotBorderWidth: 1
          },
          title: {
              text: 'Views per student per weekday'
          },
          xAxis: {
              categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
          },
          yAxis: {
              categories: ['Alexander', 'Marie', 'Maximilian', 'Sophia', 'Lukas', 'Maria', 'Leon', 'Anna', 'Tim', 'Laura'],
              title: null
          },
          colorAxis: {
              min: 0,
              minColor: '#FFFFFF',
              maxColor: Highcharts.getOptions().colors[0]
          },
          legend: {
              align: 'right',
              layout: 'vertical',
              margin: 0,
              verticalAlign: 'top',
              y: 25,
              symbolHeight: 280
          },
          tooltip: {
              formatter: function () {
                  return '<b>' + this.series.yAxis.categories[this.point.y] + '</b> has had <br><b>' +
                      this.point.value + '</b> views on <br><b>' + this.series.xAxis.categories[this.point.x] + '</b>';
              }
          },
          series: [{
              name: 'Sales per employee',
              borderWidth: 1,
              data: [[0, 0, 10], [0, 1, 19], [0, 2, 8], [0, 3, 24], [0, 4, 67],
                     [0, 5, 92], [0, 6, 58], [0, 7, 78], [0, 8, 117], [0, 9, 48],
                     [1, 0, 35], [1, 1, 15], [1, 2, 123], [1, 3, 64], [1, 4, 52],
                     [1, 5, 72], [1, 6, 132], [1, 7, 114], [1, 8, 19], [1, 9, 16],
                     [2, 0, 38], [2, 1, 5], [2, 2, 8], [2, 3, 117], [2, 4, 115],
                     [2, 5, 88], [2, 6, 32], [2, 7, 12], [2, 8, 6], [2, 9, 120],
                     [3, 0, 13], [3, 1, 44], [3, 2, 88], [3, 3, 98], [3, 4, 96],
                     [3, 5, 31], [3, 6, 1], [3, 7, 82], [3, 8, 32], [3, 9, 30],
                     [4, 0, 85], [4, 1, 97], [4, 2, 123], [4, 3, 64], [4, 4, 84],
                     [4, 5, 47], [4, 6, 114], [4, 7, 31], [4, 8, 48], [4, 9, 91],
                     [5, 0, 85], [5, 1, 97], [5, 2, 123], [5, 3, 64], [5, 4, 84],
                     [5, 5, 72], [5, 6, 132], [5, 7, 114], [5, 8, 19], [5, 9, 16],
                     [6, 0, 38], [6, 1, 5], [6, 2, 8], [6, 3, 117], [6, 4, 115],
                     [6, 5, 92], [6, 6, 58], [6, 7, 78], [6, 8, 117], [6, 9, 48]],
              dataLabels: {
                  enabled: true,
                  color: '#000000'
              }
          }]
      });
  });


javascript:
  $(function () {
      $('#container').highcharts({
          chart: {
              type: 'heatmap',
              marginTop: 40,
              marginBottom: 80,
              plotBorderWidth: 1
          },
          title: {
              text: 'Views per student per weekday'
          },
          xAxis: {
              categories: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
          },
          yAxis: {
              categories: ['Alexander', 'Marie', 'Maximilian', 'Sophia', 'Lukas', 'Maria', 'Leon', 'Anna', 'Tim', 'Laura'],
              title: null
          },
          colorAxis: {
              min: 0,
              minColor: '#FFFFFF',
              maxColor: Highcharts.getOptions().colors[0]
          },
          legend: {
              align: 'right',
              layout: 'vertical',
              margin: 0,
              verticalAlign: 'top',
              y: 25,
              symbolHeight: 280
          },
          tooltip: {
              formatter: function () {
                  return '<b>' + this.series.yAxis.categories[this.point.y] + '</b> has had <br><b>' +
                      this.point.value + '</b> views on <br><b>' + this.series.xAxis.categories[this.point.x] + '</b>';
              }
          },
          series: [{
              name: 'Sales per employee',
              borderWidth: 1,
              data: [[0, 0, 10], [0, 1, 19], [0, 2, 8], [0, 3, 24], [0, 4, 67],
                     [0, 5, 92], [0, 6, 58], [0, 7, 78], [0, 8, 117], [0, 9, 48],
                     [1, 0, 35], [1, 1, 15], [1, 2, 123], [1, 3, 64], [1, 4, 52],
                     [1, 5, 72], [1, 6, 132], [1, 7, 114], [1, 8, 19], [1, 9, 16],
                     [2, 0, 38], [2, 1, 5], [2, 2, 8], [2, 3, 117], [2, 4, 115],
                     [2, 5, 88], [2, 6, 32], [2, 7, 12], [2, 8, 6], [2, 9, 120],
                     [3, 0, 13], [3, 1, 44], [3, 2, 88], [3, 3, 98], [3, 4, 96],
                     [3, 5, 31], [3, 6, 1], [3, 7, 82], [3, 8, 32], [3, 9, 30],
                     [4, 0, 85], [4, 1, 97], [4, 2, 123], [4, 3, 64], [4, 4, 84],
                     [4, 5, 47], [4, 6, 114], [4, 7, 31], [4, 8, 48], [4, 9, 91],
                     [5, 0, 85], [5, 1, 97], [5, 2, 123], [5, 3, 64], [5, 4, 84],
                     [5, 5, 72], [5, 6, 132], [5, 7, 114], [5, 8, 19], [5, 9, 16],
                     [6, 0, 38], [6, 1, 5], [6, 2, 8], [6, 3, 117], [6, 4, 115],
                     [6, 5, 92], [6, 6, 58], [6, 7, 78], [6, 8, 117], [6, 9, 48]],
              dataLabels: {
                  enabled: true,
                  color: '#000000'
              }
          }]
      });
  });
